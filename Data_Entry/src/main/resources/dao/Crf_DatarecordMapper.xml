<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.Crf_DatarecordMapper">
  <resultMap id="BaseResultMap" type="model.CrfDatarecordBean">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" jdbcType="DECIMAL" property="id" />
    <result column="TITLE" jdbcType="VARCHAR" property="title" />
    <result column="FORMVERSION1_ID" jdbcType="DECIMAL" property="formVersion1Id" />
    <result column="DATARECORD1_ID" jdbcType="DECIMAL" property="dataRecord1Id" />
    <result column="FORMVERSION2_ID" jdbcType="DECIMAL" property="formVersion2Id" />
    <result column="DATARECORD2_ID" jdbcType="DECIMAL" property="dataRecord2Id" />
    <result column="MATCH_VISIT_ID" jdbcType="DECIMAL" property="matchVisitId" />
    <result column="MRN" jdbcType="VARCHAR" property="mrn" />
    <result column="EVENTSEQUENCE" jdbcType="DECIMAL" property="eventSequence" />
    <result column="NAME" jdbcType="VARCHAR" property="visitName" />
  </resultMap>
  
  <select id="selectAll" resultMap="BaseResultMap">
    select a.ID, a.TITLE, a.FORMVERSION1_ID, a.FORMVERSION2_ID, a.DATARECORD1_ID, a.DATARECORD2_ID, a.EVENTSEQUENCE, b.NAME, c.MRN
    from CRF_DATARECORD AS a, MATCH_VISIT AS b, SAME_MRN AS c
    where b.MRN_ID = c.ID AND a.MATCH_VISIT_ID = b.ID
  </select>
  <insert id="insert" parameterType="model.CrfDatarecordBean" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
	insert into CRF_DATARECORD (TITLE, FORMVERSION1_ID, DATARECORD1_ID,
	FORMVERSION2_ID, DATARECORD2_ID, EVENTSEQUENCE, MATCH_VISIT_ID)
	values (#{title,jdbcType=VARCHAR}, #{formVersion1Id,jdbcType=DECIMAL},
	#{dataRecord1Id,jdbcType=DECIMAL}, #{formVersion2Id,jdbcType=DECIMAL},
	#{dataRecord2Id,jdbcType=DECIMAL}, #{eventSequence,jdbcType=DECIMAL}, 
	#{matchVisitId,jdbcType=DECIMAL})
  </insert>
  <delete id="deleteAll">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from CRF_DATARECORD
  </delete>
</mapper>