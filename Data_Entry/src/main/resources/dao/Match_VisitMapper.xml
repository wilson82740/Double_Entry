<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.Match_VisitMapper">
  <resultMap id="BaseResultMap" type="model.PatientVisit">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" jdbcType="DECIMAL" property="id" />
    <result column="MRN" jdbcType="VARCHAR" property="mrn" />
    <result column="MRN_ID" jdbcType="DECIMAL" property="mrnId" />
    <result column="NAME" jdbcType="VARCHAR" property="visitName" />
    <result column="VISIT1_ID" jdbcType="DECIMAL" property="visit1Id" />
    <result column="VISIT2_ID" jdbcType="DECIMAL" property="visit2Id" />
    <result column="STUDY1_ID" jdbcType="DECIMAL" property="study1Id" />
    <result column="STUDY2_ID" jdbcType="DECIMAL" property="study2Id" />
  </resultMap>
  
  <select id="selectAll" resultMap="BaseResultMap">
    select a.ID, a.NAME, a.VISIT1_ID, a.VISIT2_ID, a.STUDY1_ID, a.STUDY2_ID, b.MRN
    from MATCH_VISIT AS a, SAME_MRN AS b
    where a.MRN_ID = b.ID
  </select>
  <insert id="insert" parameterType="model.PatientVisit" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into MATCH_VISIT (MRN_ID, NAME, VISIT1_ID, VISIT2_ID, STUDY1_ID, STUDY2_ID)
    values (#{mrnId,jdbcType=DECIMAL}, #{visitName,jdbcType=VARCHAR}, #{visit1Id,jdbcType=DECIMAL}, 
    #{visit2Id,jdbcType=DECIMAL}, #{study1Id,jdbcType=DECIMAL}, #{study2Id,jdbcType=DECIMAL})
  </insert>
  <delete id="deleteAll">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from MATCH_VISIT
  </delete>
</mapper>